<section class="min-h-screen bg-gray-50 py-10 px-4">
  <div class="max-w-4xl mx-auto grid gap-8 lg:grid-cols-3">

    <!-- ─── Sidebar / Avatar & Stats ───────────────── -->
    <aside class="lg:col-span-1 bg-white p-6 rounded-xl shadow-md space-y-6 text-center">
      <!-- Avatar -->
      <div class="relative w-32 h-32 mx-auto">
        <img
          [src]="user.avatarUrl"
          alt="Avatar"
          class="w-full h-full object-cover rounded-full border-4 border-[#e6dfd5]"
        />
      </div>
      <h2 class="text-xl font-semibold">{{ user.name }}</h2>
      <p class="text-sm text-gray-600">{{ user.email }}</p>

      <!-- Stats -->
      <div class="grid grid-cols-3 gap-4 pt-4">
        <div>
          <p class="text-lg font-bold">{{ ordersCount }}</p>
          <p class="text-xs text-gray-500">Orders</p>
        </div>
        <div>
          <p class="text-lg font-bold">{{ wishlistCount }}</p>
          <p class="text-xs text-gray-500">Wishlist</p>
        </div>
        <div>
          <p class="text-lg font-bold">{{ savedAddressCount }}</p>
          <p class="text-xs text-gray-500">Addresses</p>
        </div>
      </div>
    </aside>

    <!-- ─── Profile Form ───────────────────────────── -->
    <form
      (ngSubmit)="saveProfile()"
      class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md space-y-6"
    >
      <h3 class="text-2xl font-semibold border-b pb-2">My Profile</h3>

      <!-- Name & Email -->
      <div class="grid gap-4 sm:grid-cols-2">
        <div>
          <label class="block text-sm font-medium text-gray-700">Full Name</label>
          <input
            [(ngModel)]="user.name"
            name="name"
            required
            class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#e6dfd5]/50 outline-none"
          />
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Email</label>
          <input
            [(ngModel)]="user.email"
            name="email"
            type="email"
            required
            class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#e6dfd5]/50 outline-none"
          />
        </div>
      </div>

      <!-- Phone -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Phone</label>
        <input
          [(ngModel)]="user.phone"
          name="phone"
          class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#e6dfd5]/50 outline-none"
        />
      </div>

      <!-- Address -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Address</label>
        <input
          [(ngModel)]="user.address"
          name="address"
          class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#e6dfd5]/50 outline-none"
        />
      </div>

      <!-- City / State / Country -->
      <div class="grid gap-4 sm:grid-cols-3">
        <div>
          <label class="block text-sm font-medium text-gray-700">City</label>
          <input
            [(ngModel)]="user.city"
            name="city"
            class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#e6dfd5]/50 outline-none"
          />
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">State</label>
          <input
            [(ngModel)]="user.state"
            name="state"
            class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#e6dfd5]/50 outline-none"
          />
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Country</label>
          <input
            [(ngModel)]="user.country"
            name="country"
            class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#e6dfd5]/50 outline-none"
          />
        </div>
      </div>

      <!-- Save Button -->
      <div class="text-right">
        <button
          type="submit"
          class="bg-[#e6dfd5] hover:bg-[#d4c5b2] text-gray-900 font-semibold px-6 py-2 rounded-md transition"
        >
          Save Changes
        </button>
      </div>
    </form>
  </div>
</section>
